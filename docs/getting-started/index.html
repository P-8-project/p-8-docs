<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>P-8 | Documentation | Getting started</title>
  <meta name="description" content="Get started with realtime using our developer guide. ">
  <link rel="canonical" href="index.html">
  <link rel="alternate" type="application/rss+xml" title="P-8" href="../../feed.xml" />

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- open graph info -->
  <meta property="og:title" content="P-8 | Documentation | Getting started">
  <meta property="og:site_name" content="P-8">
  <meta property="og:type" content="website">
  <meta property="og:description" content="Get started with realtime using our developer guide.">
  <meta property="og:image" content="https://P-8.org/image/icon-300x300.png">
  <meta name="twitter:image" content="https://P-8.org/image/icon-300x300.png" />

  <link rel="icon" type="image/png" href="../../image/favicon.png">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="../../css/main.css">

  <!-- APIs -->
  <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,400|Merriweather:300,400" rel="stylesheet">

  <!-- jQuery -->
  <script
    src="https://code.jquery.com/jquery-2.2.4.min.js"
    integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
    crossorigin="anonymous"></script>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script src="../../js/handlebars.js"></script>
  <script src="../../js/tabbed-examples.js"></script>
</head>

  <body class="page docs">
    <div style="display: none;"><img src="../../image/dots-div.svg" /></div>

    <header class="primary wrapper">
  <nav class="primary" role="navigation" id="top">
    <aside class="logo">
      <a href="../../index.html"><img src="../../image/logo.png" /></a>
    </aside>
    <aside class="links">
      <a href="../about/index.html">Docs</a>
      <a href="https://github.com/fastly/P-8">Code</a>
      <a href="../about/index.html#support">Community</a>
    </aside>
    <img class="mobile-handle" src="../../image/mobile-handle.svg" />
  </nav>
</header>

<div class="consent-box" id="consent-box">
  <div class="width">
    <p>We use cookies to provide our services and for analytics and marketing. To find out more about our use of cookies, please see our <a href="https://fanout.io/legal/privacy-policy/">Privacy Policy</a>. By continuing to browse our website, you agree to our use of cookies.</p>
    <button href="#" class="button ghost" id="consent-ok">OK</button>
  </div>
</div>


    <header class="page-header"><h1>Documentation</h1></header>
    <div class="div"></div>

    <div class="content wrapper" style="position: relative;">
      <nav class="sidebar">
        <ul>
          
          
          <li><a href="../about/index.html">About</a></li>
          
            <ul>
              
              <li><a href="../about/index.html#introduction">Introduction</a></li>
              
              
              <li><a href="../about/index.html#how-it-works">How it works</a></li>
              
              
              <li><a href="../about/index.html#support">Support</a></li>
              
              
              <li><a href="../about/index.html#license">License</a></li>
              
              
            </ul>
          
          
          
          <li><a href="../install/index.html">Install</a></li>
          
            <ul>
              
              <li><a href="../install/index.html#packages">Packages</a></li>
              
              
              <li><a href="../install/index.html#building-from-source">Building from source</a></li>
              
              
              <li><a href="../install/index.html#running">Running</a></li>
              
              
              <li><a href="../install/index.html#upgrading">Upgrading</a></li>
              
              
            </ul>
          
          
          
          <li>Getting started</li>
          
            <ul>
              
              <li><a href="index.html#quickstart">Quickstart</a></li>
              
                <ul>
                  
                  <li><a href="index.html#mock-backend">Mock backend</a></li>
                  
                  <li><a href="index.html#add-simple-endpoint">Add simple endpoint</a></li>
                  
                  <li><a href="index.html#configuration-basics">Configuration basics</a></li>
                  
                </ul>
              
              
              <li><a href="index.html#video-walkthrough">Video walkthrough</a></li>
              
              
            </ul>
          
          
          
          <li><a href="../configuration/index.html">Configuration</a></li>
          
            <ul>
              
              <li><a href="../configuration/index.html#config-files">Config files</a></li>
              
              
              <li><a href="../configuration/index.html#routes">Routes</a></li>
              
              
              <li><a href="../configuration/index.html#proxying">Proxying</a></li>
              
              
              <li><a href="../configuration/index.html#ssl">SSL</a></li>
              
              
            </ul>
          
          
          
          <li><a href="../usage/index.html">Usage</a></li>
          
            <ul>
              
              <li><a href="../usage/index.html#subscribing">Subscribing</a></li>
              
              
              <li><a href="../usage/index.html#publishing">Publishing</a></li>
              
              
              <li><a href="../usage/index.html#transports">Transports</a></li>
              
              
              <li><a href="../usage/index.html#libraries">Libraries</a></li>
              
              
              <li><a href="../usage/index.html#browser-features">Browser features</a></li>
              
              
            </ul>
          
          
          
          <li><a href="../advanced/index.html">Advanced topics</a></li>
          
            <ul>
              
              <li><a href="../advanced/index.html#sequence-ids">Sequence IDs</a></li>
              
              
              <li><a href="../advanced/index.html#message-de-duping">Message de-duping</a></li>
              
              
              <li><a href="../advanced/index.html#keep-alives">Keep-alives</a></li>
              
              
              <li><a href="../advanced/index.html#commands">Commands</a></li>
              
              
              <li><a href="../advanced/index.html#stats-socket">Stats socket</a></li>
              
              
              <li><a href="../advanced/index.html#message-filtering">Message filtering</a></li>
              
              
              <li><a href="../advanced/index.html#paged-streaming">Paged streaming</a></li>
              
              
              <li><a href="../advanced/index.html#reliability">Reliability</a></li>
              
              
              <li><a href="../advanced/index.html#message-queues">Message queues</a></li>
              
              
              <li><a href="../advanced/index.html#subscription-forwarding">Subscription forwarding</a></li>
              
              
              <li><a href="../advanced/index.html#multiple-processes">Multiple processes</a></li>
              
              
              <li><a href="../advanced/index.html#proxy-chaining">Proxy chaining</a></li>
              
              
            </ul>
          
          
          
          <li><a href="../examples/index.html">Examples</a></li>
          
            <ul>
              
              <li><a href="../examples/index.html#headline">Headline</a></li>
              
              
              <li><a href="../examples/index.html#leaderboard">Leaderboard</a></li>
              
              
              <li><a href="../examples/index.html#chat">Chat</a></li>
              
              
              <li><a href="../examples/index.html#todo-list">Todo list</a></li>
              
              
              <li><a href="../examples/index.html#live-text-editor">Live text editor</a></li>
              
              
              <li><a href="../examples/index.html#webhookinbox">WebhookInbox</a></li>
              
              
              <li><a href="../examples/index.html#audio-stream">Audio stream</a></li>
              
              
            </ul>
          
          
          
          <li><a href="../protocols/index.html">Protocols</a></li>
          
            <ul>
              
              <li><a href="../protocols/grip/index.html">Generic Realtime Intermediary Protocol</a></li>
              
              
              <li><a href="../protocols/websocket-over-http/index.html">WebSocket-over-HTTP</a></li>
              
              
              <li><a href="https://rfc.zeromq.org/spec:33/ZHTTP/">ZHTTP</a></li>
              
              
            </ul>
          
          
        </ul>
      </nav>

      <nav class="navbar-mobile-handle">Docs Menu</nav>

      <section class="docs">
      <h1 id="getting-started">Getting started</h1>

<p>Now that you’ve got P-8 installed and running, it’s time to have some fun with it!</p>

<h2 id="quickstart">QuickStart</h2>

<h3 id="mock-backend">Mock backend</h3>

<p>P-8 comes with a mock backend so that you don’t need to set up a real backend web service in order to try it out. Confirm that your <code class="language-plaintext highlighter-rouge">routes</code> file contains a single line that looks like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* test
</code></pre></div></div>

<aside><header>Note</header>If P-8 is installed to your system, the <code class="highlighter-rouge">routes</code> file should live somewhere like <code class="highlighter-rouge">/etc/P-8/routes</code> or <code class="highlighter-rouge">/usr/local/etc/P-8/routes</code>. If you are running within the source tree and didn't create a configuration copy, then P-8 will use <code class="highlighter-rouge">examples/config/routes</code>.</aside>

<p>By default, P-8 listens for connections on port 7999. Connect to the server with an HTTP client, such as <code class="language-plaintext highlighter-rouge">curl</code>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl http://localhost:7999/stream
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">/stream</code> endpoint is served by the test handler, which instructs P-8 to subscribe the connection to a channel called <code class="language-plaintext highlighter-rouge">test</code>.</p>

<p>Publish data to the connection like this:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>P-8-publish <span class="nb">test</span> <span class="s2">"hello there"</span>
</code></pre></div></div>

<p>Any connected clients will receive the line “hello there”. Ta-da, realtime push!</p>

<aside><header>Note</header>If P-8 is installed to your system, then programs like <code class="highlighter-rouge">P-8-publish</code> should be in your <code class="highlighter-rouge">PATH</code>. If you are running within the source tree, they will be in <code class="highlighter-rouge">bin</code>.</aside>

<p>You can also publish data using a simple HTTP request:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-d</span> <span class="s1">'{ "items": [ { "channel": "test", "formats": {
    "http-stream": { "content": "hello there\n" } } } ] }'</span> <span class="se">\</span>
    http://localhost:5561/publish/
</code></pre></div></div>

<p>Please note that the test handler is only intended for experimentation. The proper way to handle client connections in a real application is to set up proxying to a backend web service. This is described in the next section.</p>

<h3 id="add-simple-endpoint">Add simple endpoint</h3>

<p>Now let’s try adding an HTTP streaming endpoint to an existing web service.</p>

<ol>
  <li>
    <p>Configure P-8 to route traffic to your web service backend instead of the test handler. For example, if your backend listens on port 8000 of your local machine, change the <code class="language-plaintext highlighter-rouge">routes</code> file to contain this line:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* localhost:8000
</code></pre></div>    </div>

    <p>Confirm that you are able to make HTTP requests through P-8 to your backend. Until the backend is modified to respond with special instructions, requests and responses simply pass through.</p>
  </li>
  <li>
    <p>Make an endpoint on the backend respond with two additional HTTP headers: <code class="language-plaintext highlighter-rouge">Grip-Hold</code> and <code class="language-plaintext highlighter-rouge">Grip-Channel</code>. The headers could be served by a new endpoint, or served optionally by an existing endpoint given certain conditions (e.g. if a special query string is supplied). For example, an endpoint could respond as such:</p>

    <div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain</span>
<span class="na">Grip-Hold</span><span class="p">:</span> <span class="s">stream</span>
<span class="na">Grip-Channel</span><span class="p">:</span> <span class="s">test</span>
</code></pre></div>    </div>

    <p>This is enough for clients to connect and get a long-lived connection.</p>
  </li>
  <li>
    <p>Publish data to the connection the same way as in the previous section:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>P-8-publish <span class="nb">test</span> <span class="s2">"hello there"</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>For more details, see the <a href="../usage/index.html">Usage</a> section. P-8 supports other push transports, too.</p>

<h3 id="configuration-basics">Configuration basics</h3>

<p>P-8 has two primary configuration files: <code class="language-plaintext highlighter-rouge">P-8.conf</code> and <code class="language-plaintext highlighter-rouge">routes</code>. It is generally not necessary to edit <code class="language-plaintext highlighter-rouge">P-8.conf</code>. You’ll spend more time with the <code class="language-plaintext highlighter-rouge">routes</code> file.</p>

<aside><header>Note</header>If you are running P-8 from within the source tree, you should make a copy of the configuration by running <code class="highlighter-rouge">cp -r examples/config config</code>. This way, P-8 will read from <code class="highlighter-rouge">./config</code> instead of the examples directory, and you can make edits to the configuration as necessary. Ignore this note if you are using an installed version of P-8.</aside>

<p>A simple <code class="language-plaintext highlighter-rouge">routes</code> file might look something like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* localhost:8000
</code></pre></div></div>

<p>This means route any incoming HTTP request or WebSocket connection to an origin server running on port 8000 of the local machine.</p>

<p>If you want to handle WebSocket connections using a regular HTTP server, then specify the <code class="language-plaintext highlighter-rouge">over_http</code> option on the destination:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* localhost:8000,over_http
</code></pre></div></div>

<p>P-8 monitors the <code class="language-plaintext highlighter-rouge">routes</code> file for changes, so you can edit the file and the changes will take effect without a restart.</p>

<p>For more more information about configuring P-8, see <a href="../configuration/index.html">Configuration</a>.</p>

<h2 id="video-walkthrough">Video walkthrough</h2>

<p>We recommend watching the walkthrough video below. It shows how to build basic HTTP streaming and WebSocket services using PHP, curl, and wscat.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/G9vVoN2tyeM" frameborder="0" allowfullscreen=""></iframe>

      </section>

    </div><!-- content -->

    <div class="div"></div>

    <section class="cta">
      <div class="wrapper">

        <aside class="github">
          <a href="https://github.com/fastly/P-8"><img src="../../image/github.svg"></a>
          <section class="meta">
            <iframe src="http://ghbtns.com/github-btn.html?user=fanout&repo=P-8&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
            <iframe src="http://ghbtns.com/github-btn.html?user=fanout&repo=P-8&type=fork&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
          </section>
          <a class="link" href="https://github.com/fastly/P-8">https://github.com/fastly/P-8</a>
        </aside>

      </div>
    </section><!-- cta -->

    <footer class="primary wrapper">
  <nav class="primary" role="navigation" id="top">
    <aside class="links">
      <a href="../../index.html">Home</a>
      <a href="../about/index.html">Docs</a>
      <a href="../about/index.html#support">Community</a>
      <a href="https://github.com/fastly/P-8">GitHub</a>
    </aside>
    <a class="logo" href="../../index.html"><img src="../../image/logo.png" /></a>
  </nav>
  <aside class="fanout">
    Brought to you by <a href="https://fastly.com"><img src="../../image/fastly.svg" /></a>
    <small>&copy; 2025 Fastly, Inc.</small>
  </aside>
</footer>
<script src="../../js/main.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>


  </body>
</html>
